# 照片上传功能测试指南

## 功能说明
已实现上传时同时保存原始照片和高度压缩的照片：
- **原始照片**：用于照片详情页查看
- **压缩照片**（60%质量，1200px宽）：用于首页展示
- **缩略图**（85%质量，400px宽）：作为备选

## 测试步骤

### 1. 准备测试图片
准备几张不同大小的测试图片，建议包括：
- 高分辨率图片（>2MB）
- 中等分辨率图片（500KB-2MB）
- 小图片（<500KB）

### 2. 测试上传功能
1. 登录系统（管理员或普通用户）
2. 进入上传页面
3. 选择测试图片并填写必要信息
4. 点击上传

### 3. 验证文件生成
上传完成后，检查 `server/uploads/` 目录，应该看到：
- 原始文件：`timestamp-random.jpg`
- 缩略图：`thumb-timestamp-random.jpg`
- 压缩图：`compressed-timestamp-random.jpg`

### 4. 测试前端展示
1. **首页展示**：
   - 访问首页画廊
   - 检查网络请求，应该加载压缩图片（compressed-*.jpg）
   - 图片应该快速加载

2. **详情页展示**：
   - 点击任意照片进入详情页
   - 检查网络请求，应该加载原始图片
   - 图片质量应该更高

### 5. 验证响应式
- 在不同设备（手机、平板、桌面）上测试
- 确保压缩图片在各种屏幕尺寸下正常显示

### 6. 性能测试
- 首页加载速度应该有明显提升
- 压缩图片文件大小应该比原图小30-70%

## 注意事项
- 压缩图片质量设置为60%，在保证视觉效果的同时减小文件大小
- 压缩图片最大宽度为1200px，适合大多数屏幕
- 如果压缩图片生成失败，系统会自动回退到缩略图或原图